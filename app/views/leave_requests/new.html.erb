<div class="form-header no-margin">
  <div class="row text-center align-middle form-header no-margin horizontal-max">
    <div class="columns">
      <%= @current_user.profile.first_name %> <%= @current_user.profile.last_name %> <br />
      <%= @company.name %>
      <h2>Create Leave Request</h2>
    </div>
  </div>
</div>
<div class="section-blue">
  <div class="row section-blue align-middle">
    <div class="columns">
      <h3>File your leaves the easy way.</h3>
      <h4>Enjoy Tseklis </h4>
    </div>
    <div class="columns">
      <%# render 'leave_request_form',
        url: user_employment_leave_requests_url(@user, @employment),
        method: :post,
        leave_request: @leave_request
      %>
      <div class="row">
        <div class="small-12 medium-offset-1 medium-10">

      		<%= form_for @employment.leave_requests.build, url: user_employment_leave_requests_url(@user, @employment), method: :post  do |f| %>

      			<%= show_error_message(@employment.leave_requests.build) %>

      			<div class="m-well align-middle">
      				<div class="field">
      					<%= f.label :title %>
      					<%= f.text_field :title %>
      				</div>

      				<div class="field">
      					<%= f.label :leave_type_id, "Type of Leave" %>
      					<%= f.collection_select(:leave_type_id, @company.leave_types, :id, :name, {prompt: true}, {class: "select-select horizontal-max"}) %>
      				</div>
      				<br />

      				<div class="field">
      					<%= f.label :description %>
      					<%= f.text_area :description %>
      				</div>

      				<div class="row">
      					<div class="columns" style= "padding-right: 0.25rem;">

      						<div class="field">
      							<%= f.label :start_date %>
      							<%= f.date_field :start_date, class: "datepickerend" %>
      						</div>

      					</div>

      					<div class="columns" style= "padding-left: 0.25rem;">
      						<div class="field">
      							<%= f.label :start_time %>
      							<%= f.date_field :start_time, class: "timepickerend" %>
      						</div>
      					</div>

      				</div>

      				<div class="row" >
      					<div class="columns" style= "padding-right: 0.25rem;">
      						<div class="field">
      							<%= f.label :end_date %>
      							<%= f.date_field :end_date, class: "datepickerend" %>
      						</div>
      					</div>
      					<div class="columns" style= "padding-left: 0.25rem;">
      						<div class="field">
      							<%= f.label :end_time %>
      							<%= f.date_field :end_time, class: "timepickerend", id: 'leave-request-end-time'%>
      						</div>
      					</div>
      				</div>

              <div class="row">
                <div class="column">
                  <%= f.check_box :allow_weekend_holiday_leave %>
                  <%= f.label :allow_weekend_holiday_leave, "Allow Leaves on Weekends and Holidays" %>
                  <p class="small-font-size black-text">* Use this option if your assigned day offs are different from your company's normal day offs. Use with caution.</p>
                </div>
              </div>


      				<div class="space2"></div>

      				<%= f.submit 'Update', class: "button primary" %>
      			</div>
      		<% end %>
      	</div>
      </div>
    </div>
  </div>
</div>



<%= render 'users/user_leaves_taken', at_leave_request: true %>
